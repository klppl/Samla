{% extends "base.html" %}

{% block content %}

<!-- Use the stored JSON data -->
{% set items = site.data.readeck | default([]) %}

<article class="post">
    <header class="post-header">
        <h1 class="post-title">{{ post.title }}</h1>
    </header>

    <div class="post-content">
        {{ post.content | safe }}

        {% if items %}
        <!-- Use global stream layout -->
        <div class="stream read-later-stream">
            {% for group in items | groupby('date') | reverse %}
            <article class="post-item type-bookmarks" data-date="{{ group.grouper }}" style="--post-icon: 'ðŸ”–'">
                <div class="day-group" style="padding-bottom: 0.5rem;">
                    {% for item in group.list %}
                    <header class="post-header" style="margin-bottom: 1.5rem;">
                        <h3 class="post-title" style="font-size: 1.1rem; text-transform: none; margin-bottom: 0.2rem;">
                            <a href="{{ item.url }}" target="_blank" rel="noopener noreferrer"
                                title="{{ item.title }}">{{
                                item.title | truncate(80) }}</a>
                        </h3>
                        {% if item.description %}
                        <p class="bookmark-desc" style="font-size: 0.85em; opacity: 0.7; margin-bottom: 0;">{{
                            item.description | truncate(120) }}</p>
                        {% endif %}
                    </header>
                    {% endfor %}
                </div>
            </article>
            {% endfor %}
        </div>
        {% else %}
        <p>No articles found.</p>
        {% endif %}
    </div>
</article>

{% endblock %}